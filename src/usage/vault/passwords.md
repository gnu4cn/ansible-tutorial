# 管理 vault 密码


如果咱们能制定一套管理 vault 密码的策略，那么管理咱们的加密内容就会变得更加容易。Vault 密码可以是咱们所选择的任何字符串。并无创建 vault 密码的特殊命令。不过，咱们需要记录咱们的 vault 密码。每次咱们以 Ansible Vault 加密变量或文件时，都必须提供一个密码。在某个命令或 playbook 中使用加密的变量或文件时，咱们都必须提供加密他们所使用的同一密码。要制定出管理 vault 密码的策略，请从两个问题入手：

- 咱们打算以同一个密码加密所有内容，还是根据不同的需要使用不同密码？
- 咱们想要在哪里存储密码？


## 在单一密码与多个密码间做出选择


若咱们的团队规模较小或敏感数据较少，咱们可以使用单一密码对 Ansible Vault 的所有内容进行加密。如下所述，要将咱们的 vault 密码安全地存储在某个文件，或秘密管理器中。

而如果咱们有个较大的团队，或许多敏感数据，就可以使用多个密码。例如，咱们可以为不同的用户，或不同的访问级别，使用不同的密码。根据需要，咱们可能需要为每个加密文件、每个目录或每种环境，设置不同密码。咱们可能有个包含了两个变量文件的 playbook，其中一个用于开发环境，一个用于生产环境，分别用两个不同密码加密。在咱们运行该 playbook 时，可以使用 vault ID 为咱们所针对的环境，选择正确的vault 密码。


## 使用 vault ID 管理多个密码


若咱们使用了多个 vault 密码，则可使用 vault ID，区分不同密码。咱们可以以下三种方式使用 vault ID：

- 在咱们创建加密内容时，以 `--vault-id` 命令行开关，将其传递给 [`ansible-vault`](../cli/ansible-vault.md) 命令；
- 将其包含在咱们存储该 vault ID 所对应密码的地方（请参阅 [存储和访问 vault 密码](#存储与访问-vault-密码)）；
- 在运行某个用到以该 vault ID 加密的内容的游戏本时，以 `--vault-id` 命令行开关，将其传递给 [`ansible-playbook`](../cli/ansible-playbook.md) 命令。


